<div class="login-container bg-gradient">
    <div class="login-card shadow-lg rounded-4 p-4 text-center">
        <!-- Logo with subtle animation -->
        <div class="logo-container mb-4">
            <img src="assets/imgs/pokemon_title_logo.jpg" alt="Pokemon Logo" class="img-fluid pokemon-logo">
        </div>

        <!-- Login Form -->
        <div class="login-form">
            <div class="input-group mb-4">
                <span class="input-group-text bg-transparent border-end-0">
                    <i class="bi bi-person-fill text-primary"></i>
                </span>
                <input 
                    [(ngModel)]="username" 
                    type="text" 
                    id="username" 
                    placeholder="Enter your username" 
                    class="form-control border-start-0 shadow-none"
                    autocomplete="off">
            </div>

            <div *ngIf="errorMessage" class="alert alert-danger mb-3" role="alert">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>{{ errorMessage }}
            </div>

            <ng-container *ngIf="!newPlayerMenu; else newPlayerTemplate">
                <div class="d-grid gap-3">
                    <button id="submitBtn" class="btn btn-primary btn-lg btn-block ripple-effect" (click)="login()">
                        <i class="bi bi-box-arrow-in-right me-2"></i>Login
                    </button>
                    <button id="newPlayerBtn" class="btn btn-outline-primary btn-lg btn-block ripple-effect" (click)="newPlayer()">
                        <i class="bi bi-plus-circle me-2"></i>New Player
                    </button>
                </div>
            </ng-container>

            <ng-template #newPlayerTemplate>
                <h4 class="text-center mb-4">Choose Your Starter</h4>
                <div class="starter-selection row row-cols-1 row-cols-md-3 g-4">
                    <div *ngFor="let starter of starters" class="col starter-card">
                        <div class="card h-100 border-0 shadow-sm hover-card">
                            <div class="card-body text-center">
                                <h5 class="card-title mb-3">{{starter.base.name}}</h5>
                                <div class="starter-image-container">
                                    <img [src]="starter.sprite.sprite_url" alt="{{starter.base.name}}" class="starter-image img-fluid">
                                </div>
                                <div class="stats-container">
                                    <div class="pokemon-stats">
                                        <div class="row g-2">
                                            <div class="col-6" *ngFor="let stat of starter.stats">
                                                <div class="stat-item">
                                                    <span class="stat-label">{{stat.name | titlecase}}</span>
                                                    <span class="stat-value">{{stat.value}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button 
                                    id="chosenStarter" 
                                    class="btn btn-primary w-100 ripple-effect mt-3" 
                                    (click)="createPlayer(starter)"
                                >
                                    Choose {{starter.base.name}}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-link mt-4" (click)="newPlayerMenu = false">
                    <i class="bi bi-arrow-left me-2"></i>Back to Login
                </button>
            </ng-template>
        </div>
    </div>
    <footer class="login-footer text-center text-white-50 mt-4">
        <p class="mb-1">© 2024 Pokémon Masters. Pokémon and Pokémon character names are trademarks of Nintendo.</p>
        <p class="mb-0">Designed by Kevin Gasca</p>
    </footer>
</div>